<AML>
 <Item type="Method" id="A21BDBA04B534B92B3F3B061497617B2" action="add">
  <execution_allowed_to keyed_name="Administrators" type="Identity">2618D6F5A90949BAA7E920D1B04C7EE1</execution_allowed_to>
  <method_code><![CDATA[
//debugger;
var svgString  = this.apply("SystemReportServer").getResult();
// Parse the string into a DOM structure
const parser = new DOMParser();
const xmlDoc = parser.parseFromString(svgString, "image/svg+xml");

// Select all elements with the "node" attribute
xmlDoc.querySelectorAll(".node").forEach(el => {
    //el.childNodes[1].setAttribute("data-options", "['Open', 'Add IO', 'New IO']");
		el.setAttribute("data-options", "[\"Open\", \"Add IO\", \"New IO\"]");
});

// Serialize it back to string
const serializer = new XMLSerializer();
const newSvgString = serializer.serializeToString(xmlDoc);
var html = `
<html>
	<head>
	<link rel="stylesheet" href="../Client/customer/se_editor.css">	
    <script src='../Client/customer/panzoom.js'   type='text/javascript' ></script>
    <script src='../Client/customer/se_editor2.js' type='text/javascript'></script>
 	</head>
    <body>
	    <script type='text/javascript'>
	        setTimeout(init,1000);
	        function init(){
	          var area = document.getElementById('graph0');
		        panzoom(area, {autocenter: true, bounds: true});
						init_contextMenu();
		    }
	    </script>
	    <div>
            <div id="contextMenu" class="context-menu">
        <ul id="menuItems"></ul>
    </div>
`;
html +=  newSvgString;
html += `
		</div>
	</body>
</html>
`;

var options ="status=no,toolbar=no,menubar=no,titlebar=yes,resizable=yes,scrollbars=yes";
//var myWindow = window.open("", "System Report", options);
//myWindow.document.write(html);
//return true;
return html;]]></method_code>
  <method_type>JavaScript</method_type>
  <name>show_se_process_report</name>
 </Item>
</AML>